(ns sicp.chapter-1.part_1.ex-1-7-test
  (:require [clojure.test :refer :all]
            [sicp.chapter-1.part_1.ex-1-7 :refer [sqrt-iter sqrt-iter-v2]]))

(deftest sqrt-iter-test
  ; 1.0
  ; 18.5
  ; 10.222972972972974
  ; 6.872226737643129
  ; 6.055351744849479
  ; 6.0002529841194185 - better
  (is (= 6.000000005333189 (sqrt-iter 1.0 36)))

  ; 1.0
  ; 4.9382716056172717E17
  ; 2.4691358028086358E17
  ; 1.2345679014043179E17
  ; 6.17283950702159E16
  ; 3.086419753510796E16
  ; 1.5432098767553996E16
  ; 7.71604938377703E15
  ; 3.858024691888579E15
  ; 1.9290123459444175E15
  ; 9.645061729724648E14
  ; 4.822530864867444E14
  ; 2.411265432443962E14
  ; 1.205632716242461E14
  ; 6.028163581621905E13
  ; 3.0140817916301523E13
  ; 1.5070408974534762E13
  ; 7.535204520035381E12
  ; 3.76760232555369E12
  ; 1.883801293848842E12
  ; 9.419009090683967E11
  ; 4.709509788220038E11
  ; 2.3547653798544547E11
  ; 1.1774036613227127E11
  ; 5.8874377270526054E10
  ; 2.9445576446454517E10
  ; 1.4739559066938189E10
  ; 7.403283056764402E9
  ; 3.768345334892816E9
  ; 2.0152188207777276E9
  ; 1.2526583130043852E9
  ; 1.0205525096984272E9
  ; 9.941584224680585E8
  ; 9.938080518304518E8
  ; 9.938079900682316E8
  ; 9.938079900682297E8
  ; 9.938079900682297E8
  ; 9.938079900682297E8 - infinity!
  ; (is (= 9938079.900682274 (sqrt-iter 1.0 987654321123454321)))
)

(deftest sqrt-iter-v2-test
  ; 1.0
  ; 18.5
  ; 10.222972972972974
  ; 6.872226737643129
  ; 6.055351744849479 - not so good
  (is (= 6.0002529841194185 (sqrt-iter-v2 1.0 36)))

  ; 1.0
  ; 4.9382716056172717E17
  ; 2.4691358028086358E17
  ; 1.2345679014043179E17
  ; 6.17283950702159E16
  ; 3.086419753510796E16
  ; 1.5432098767553996E16
  ; 7.71604938377703E15
  ; 3.858024691888579E15
  ; 1.9290123459444175E15
  ; 9.645061729724648E14
  ; 4.822530864867444E14
  ; 2.411265432443962E14
  ; 1.205632716242461E14
  ; 6.028163581621905E13
  ; 3.0140817916301523E13
  ; 1.5070408974534762E13
  ; 7.535204520035381E12
  ; 3.76760232555369E12
  ; 1.883801293848842E12
  ; 9.419009090683967E11
  ; 4.709509788220038E11
  ; 2.3547653798544547E11
  ; 1.1774036613227127E11
  ; 5.8874377270526054E10
  ; 2.9445576446454517E10
  ; 1.4739559066938189E10
  ; 7.403283056764402E9
  ; 3.768345334892816E9
  ; 2.0152188207777276E9
  ; 1.2526583130043852E9
  ; 1.0205525096984272E9
  ; 9.941584224680585E8
  ; 9.938080518304518E8 Stoped - NOT infinity!
  (is (= 9.938079900682316E8 (sqrt-iter-v2 1.0 987654321123454321))))
